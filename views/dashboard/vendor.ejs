<% layout("/layouts/boilerplate") %>

<div class="container my-5">
  <h2 class="text-center fw-bold display-5 text-gradient mb-5">
    🏠 Vendor Dashboard
  </h2>

  <% if (listings.length === 0) { %>
  <div class="alert alert-info text-center">
    You haven't added any listings yet.
    <a href="/listings/new" class="alert-link">Click here to add one!</a>
  </div>
  <% } else { %>
  <div class="row row-cols-1 row-cols-md-2 g-4">
    <% listings.forEach(listing => { %>
    <div class="col">
      <div class="card h-100 shadow-sm border-0 card-vendor">
        <div class="card-body">
          <h5 class="card-title">
            <i class="fa-solid fa-house me-2 text-primary"></i>
            <%= listing.title %>
          </h5>
          <p class="card-text text-muted">
            <i class="fa-solid fa-location-dot me-1"></i> <%= listing.location
            %>
          </p>
          <a
            href="/listings/<%= listing._id %>/edit"
            class="btn btn-outline-warning btn-sm mt-2"
          >
            <i class="fa-solid fa-pen-to-square me-1"></i> Edit Listing
          </a>
        </div>
      </div>
    </div>
    <% }) %>
  </div>
  <% } %>
</div>

<style>
  .text-gradient {
    background: linear-gradient(to right, #f12711, #f5af19);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }
  .card-vendor {
    padding: 1rem;
  }
</style>
