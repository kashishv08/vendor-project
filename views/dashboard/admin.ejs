<% layout("/layouts/boilerplate") %>

<div class="container my-5">
  <h2 class="text-center fw-bold display-5 mb-5 text-gradient-orange">
    ðŸŒŸ Admin Dashboard
  </h2>

  <div class="row g-4">
    <!-- Listings Card -->
    <div class="col-md-6">
      <div class="card border-0 shadow-lg rounded-4 bg-light">
        <div
          class="card-header bg-gradient-orange text-white fw-semibold fs-5 d-flex align-items-center rounded-top-4"
        >
          <i class="fa-solid fa-list me-2"></i> All Listings
        </div>
        <div class="card-body p-0">
          <% if (listings.length === 0) { %>
          <div class="p-4 text-center text-muted">No listings available.</div>
          <% } else { %>
          <ul class="list-group list-group-flush">
            <% listings.forEach(listing => { %>
            <li
              class="list-group-item d-flex justify-content-between align-items-center"
            >
              <div>
                <strong><%= listing.title %></strong><br />
                <small class="text-muted"
                  ><i class="fa-solid fa-location-dot me-1"></i> <%=
                  listing.country %></small
                >
              </div>
              <a
                href="/listings/<%= listing._id %>"
                class="btn btn-sm btn-outline-primary"
                >View</a
              >
            </li>
            <% }) %>
          </ul>
          <% } %>
        </div>
      </div>
    </div>

    <!-- Users Card -->
    <div class="col-md-6">
      <div class="card border-0 shadow-lg rounded-4 bg-light">
        <div
          class="card-header bg-gradient-purple text-white fw-semibold fs-5 d-flex align-items-center rounded-top-4"
        >
          <i class="fa-solid fa-users me-2"></i> All Users
        </div>
        <div class="card-body p-0">
          <% if (users.length === 0) { %>
          <div class="p-4 text-center text-muted">No users found.</div>
          <% } else { %>
          <ul class="list-group list-group-flush">
            <% users.forEach(user => { %>
            <li
              class="list-group-item d-flex justify-content-between align-items-center"
            >
              <div>
                <strong><%= user.username %></strong><br />
                <span class="badge rounded-pill bg-secondary text-capitalize"
                  ><%= user.role %></span
                >
              </div>
              <i class="fa-solid fa-user-tag text-muted fs-5"></i>
            </li>
            <% }) %>
          </ul>
          <% } %>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  .text-gradient-orange {
    background: linear-gradient(45deg, #ff7e5f, #feb47b);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .bg-gradient-orange {
    background: linear-gradient(135deg, #ff9966, #ff5e62);
  }

  .bg-gradient-purple {
    background: linear-gradient(135deg, #7f00ff, #e100ff);
  }

  .card-header i {
    font-size: 1.2rem;
  }

  .list-group-item {
    padding: 1rem 1.25rem;
    font-size: 0.95rem;
  }

  .badge {
    font-size: 0.75rem;
    padding: 0.4em 0.6em;
  }
</style>
